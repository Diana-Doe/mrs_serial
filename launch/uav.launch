<launch>

  <arg name="uav_name" default="$(optenv UAV_NAME uav)"/>
  <arg name="profiler" default="$(optenv PROFILER false)" />

  <group ns="$(arg uav_name)">

    <!-- launch the node -->
    <node name="garmin" pkg="mrs_serial" type="garmin" output="screen" respawn="true">
      
      <rosparam file="$(find garmin_rangefinder)/config/garmin_rangefinder.yaml" />
      
      <param name="enable_profiler" type="bool" value="$(arg profiler)" />
      <param name="portname" value="/dev/garmin"/>

      <!-- Publishers -->
      <remap from="range" to="~range" />
      <remap from="~profiler" to="profiler" />

    </node>

  </group>

</launch>
